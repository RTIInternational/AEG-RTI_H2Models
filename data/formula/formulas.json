{
  "formulas": [
    {
      "name": "",
      "label": "Hydrogen Gas Lower Heating Value (LHV) (MJ/kg)",
      "expression": "get_lhv(\"Hydrogen\")",
      "orig_name": "H2_LHV_MJ_p_kg"
    },
    {
      "name": "output_energy_MMBtu_per_year",
      "label": "Actual Hydrogen Energy Produced (MMBtu(LHV)/yr)",
      "expression": "plant_output_kg_per_year * H2_LHV_MJ_p_kg / 1000 / conversion_factor(\"mmBTU_to_GJ\")",
      "orig_name": ""
    },
    {
      "name": "output_energy_MJ_per_year",
      "label": "Actual Hydrogen Energy Produced (MJ(LHV)/yr)",
      "expression": "plant_output_kg_per_year * H2_LHV_MJ_p_kg",
      "orig_name": ""
    },
    {
      "name": "",
      "label": "After-Tax Nominal IRR",
      "expression": "((1 + real_irr) * (1 + inflation_rate)) - 1",
      "orig_name": "nominal_irr"
    },
    {
      "name": "percentage_debt_financing",
      "label": "Debt Financing",
      "expression": "1 - percentage_equity_financing",
      "orig_name": ""
    },
    {
      "name": "target_after_tax_nominal_irr",
      "label": "Target after-tax nominal IRR",
      "expression": "(1 + real_irr)*(1 + inflation_rate) - 1",
      "orig_name": ""
    },
    {
      "name": "analysis_range",
      "expression": "range(analysis_period_start, analysis_period_end)",
      "sample": "range(2012, 2055)"
    },
    {
      "name": "feedstock_price_df",
      "expression": "get_feedstock_price_df(feedstocks, analysis_range)"
    },
    {
      "name": "operation_range",
      "expression": "get_operation_range(seq_along(analysis_range), construct)",
      "sample": "[-3, -2, -1, 1, 2, 3, ..., 40]"
    },
    {
      "name": "inflation_price_increase_factors",
      "expression": "get_inflation_price_increase_factors(analysis_range, inflation_rate, startup_year)"
    },
    {
      "name": "total_feedstock_cost_column",
      "expression": "get_total_feedstock_costs(operation_range, feedstock_price_df, inflation_price_increase_factors, start_time, plant_output_kg_per_year, percnt_var)"
    },
    {
      "name": "other_material_price_df",
      "expression": "get_other_material_price_df(other_materials, analysis_range, INFLATION_FACTOR, ref_year)"
    },
    {
      "orig_name": "direct_cap",
      "label": "H2A Total Direct Capital Cost",
      "expression": "sum(capital_investment_costs(capital_investments))"
    },
    {
      "orig_name": "CO2_seq",
      "label": "H2A Carbon Sequestration Total Direct Capital Cost",
      "expression": "0",
      "todo": "Update formula"
    },
    {
      "name": "site_preparation_cost",
      "label": "Site Preparation ($)",
      "expression": "(0.02 * CO2_seq / (CEPCIinflator * CPIinflator)) + (0.159872128446844 * direct_cap / (CEPCIinflator * CPIinflator))",
      "excel_loc": "Input_Sheet_Template C92",
      "translation_note": "The formula is 2 lines in the spreadsheet; the magic numbers are from it",
      "todo": "These should be user inputs; they vary depending on the workbook default values"
    },
    {
      "name": "engineering_and_design_cost",
      "label": "Engineering and Design ($)",
      "expression": "(0.1 * CO2_seq / (CEPCIinflator * CPIinflator)) + (0.11599636520534 * direct_cap / (CEPCIinflator * CPIinflator))"
    },
    {
      "name": "process_contingency_cost",
      "label": "Process Contingency ($)",
      "expression": "0"
    },
    {
      "name": "project_contingency_cost",
      "label": "Project Contingency ($)",
      "expression": "0.247793627342024 * direct_cap / (CEPCIinflator * CPIinflator)"
    },
    {
      "name": "other_depreciable_capital_cost",
      "label": "Other (Depreciable) Capital ($)",
      "expression": "40137000"
    },
    {
      "name": "upfront_permitting_costs",
      "label": "Upfront Permitting Costs ($)",
      "expression": "(0.15 * CO2_seq / (CEPCIinflator * CPIinflator)) + (0.11599636520534 * direct_cap / (CEPCIinflator * CPIinflator))"
    },
    {
      "orig_name": "depr_cap",
      "label": "Total Depreciable Capital Costs",
      "expression": "direct_cap + CO2_seq + (CEPCIinflator * CPIinflator) * (site_preparation_cost + engineering_and_design_cost + process_contingency_cost + project_contingency_cost + other_depreciable_capital_cost + upfront_permitting_costs)"
    },
    {
      "name": "replacement_costs",
      "label": "Replacement Costs ($)",
      "expression": "get_replacement_costs(operation_range, inflation_price_increase_factors, replace_factor, depr_cap, ref_year, startup_year, inflation_rate)"
    },
    {
      "name": "#",
      "label": "Total Depreciable Capital Costs",
      "expression": "=(total_cap - non_dep_cap) * INFLATION_FACTOR",
      "orig_name": ""
    }
  ]
}